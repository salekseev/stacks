# Local Testing Environment Configuration
# This file contains SAFE DEFAULTS for local testing
# DO NOT put production secrets here - this file is committed to git

# ============================================
# COMMON SETTINGS (match production)
# ============================================

# These values match production (stacks/stack.env) to ensure consistent behavior
TZ=America/New_York         # Same as production
PUID=1000                   # Same as production (matches Plex stack)
PGID=1000                   # Same as production (matches Plex stack)
UMASK=0002                  # Same as production (group writable)

# ============================================
# TEST PATHS (overridden by test script)
# ============================================

# DIFFERENCE: Test uses temporary directories instead of production mounts
# Production: /mnt/spool/apps/config → Test: /tmp/starr-test-{timestamp}/config
# Production: /mnt/dpool/media → Test: /tmp/starr-test-{timestamp}/media
#
# Note: These placeholder values are overridden by test script with timestamp-based paths
STARR_CONFIG_ROOT=/tmp/starr-test/config
STARR_MEDIA_ROOT=/tmp/starr-test/media

# DIFFERENCE: Test uses unique network name to prevent conflicts with production
# Production: starr_net → Test: starr_net_test_{pid}
STARR_NETWORK_NAME=starr_net_test

# ============================================
# TEST VALUES (safe, non-functional)
# ============================================

# DIFFERENCE: Test uses fake tunnel token (won't connect to Cloudflare)
# Production: Real Cloudflare tunnel token (secret) → Test: Fake token (safe)
TUNNEL_TOKEN=test-token-not-real-value-for-local-testing-only

# Web UI Port (same as production)
WEBUI_PORT=8080

# API Keys - empty on first run (services generate them)
# These are the same in both test and production environments
SONARR_API_KEY=
RADARR_API_KEY=
PROWLARR_API_KEY=

# ============================================
# KEY DIFFERENCES: TEST vs PRODUCTION
# ============================================
#
# | Aspect              | Production              | Test                    |
# |---------------------|-------------------------|-------------------------|
# | Directories         | /mnt/dpool/, /mnt/spool/| /tmp/starr-test-*/      |
# | Network             | starr_net               | starr_net_test_*        |
# | Config File         | stack.env (secrets)     | stack-test.env (safe)   |
# | Cleanup             | Manual (via Portainer)  | Automatic (script)      |
# | Tunnel Token        | Real Cloudflare token   | Fake token              |
# | Deployment Method   | Portainer web UI        | docker compose CLI      |
# | Duration            | Permanent               | Temporary               |
#
# ============================================
# USAGE
# ============================================
# This file is used by scripts/test-stack.sh
# Run: ./scripts/test-stack.sh starr
#
# The test script will:
# 1. Override STARR_* variables with timestamp-based paths
# 2. Create temporary directory structure
# 3. Deploy stack with test configuration
# 4. Validate service health
# 5. Automatically clean up containers and temp files
